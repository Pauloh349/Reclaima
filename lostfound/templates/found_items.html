{% load static%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Found Items - Reclaima</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="{% static 'css/found_items.css'%}" />
    <link rel="stylesheet" href="{% static 'css/home.css' %}" />
  </head>
  <body>
    <!-- Header -->
    {% include 'includes/header.html'%}

    <!-- Page Header -->
    <section class="page-header">
      <div class="container">
        <h1 class="page-title">Found Items</h1>
        <p class="page-subtitle">
          Browse through items that have been found by others. If you see
          something that belongs to you or someone you know, you can claim it.
          If you've found something, you can report it to help reunite it with
          its owner.
        </p>

        <div class="header-stats">
          <div class="stat">
            <div class="stat-number">{{ total_found_items }}</div>
            <div class="stat-label">Items Currently Listed</div>
          </div>
          <div class="stat">
            <div class="stat-number">{{ items_returned_this_month }}</div>
            <div class="stat-label">Items Returned This Month</div>
          </div>
          <div class="stat">
            <div class="stat-number">{{ return_rate }}</div>
            <div class="stat-label">Return Rate</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <div class="container">
      <div class="main-content">
        <!-- Filter Sidebar -->
        <aside class="filter-sidebar">
          <h2 class="filter-title">
            <i class="fas fa-filter"></i> Filter Results
          </h2>

          <!-- Search -->
          <div class="filter-group">
            <h3>Search</h3>
            <input
              type="text"
              id="searchInput"
              placeholder="Type item name or description..."
              style="
                width: 100%;
                padding: 12px 15px;
                border: 1px solid #ddd;
                border-radius: 5px;
                font-size: 1rem;
              "
            />
          </div>

          <!-- Category -->
          <div class="filter-group">
            <h3>Category</h3>
            <div class="filter-options">
              <div class="filter-option">
                <input type="checkbox" id="cat-electronics" checked />
                <label for="cat-electronics">Electronics</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="cat-keys" checked />
                <label for="cat-keys">Keys & Access</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="cat-wallets" checked />
                <label for="cat-wallets">Wallets & Purses</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="cat-documents" />
                <label for="cat-documents">Documents</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="cat-jewelry" />
                <label for="cat-jewelry">Jewelry & Accessories</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="cat-clothing" />
                <label for="cat-clothing">Clothing</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="cat-bags" />
                <label for="cat-bags">Bags & Luggage</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="cat-other" />
                <label for="cat-other">Other</label>
              </div>
            </div>
          </div>

          <!-- Location Found -->
          <div class="filter-group">
            <h3>Location Found</h3>
            <select
              id="locationFilter"
              style="
                width: 100%;
                padding: 10px 15px;
                border: 1px solid #ddd;
                border-radius: 5px;
                font-size: 1rem;
              "
            >
              <option value="all">All Locations</option>
              <option value="downtown">Downtown</option>
              <option value="north">North District</option>
              <option value="south">South District</option>
              <option value="east">East Side</option>
              <option value="west">West Side</option>
              <option value="transport">Public Transport</option>
              <option value="airport">Airport</option>
            </select>
          </div>

          <!-- Date Found -->
          <div class="filter-group">
            <h3>Date Found</h3>
            <div class="date-inputs">
              <input type="date" id="dateFrom" />
              <input type="date" id="dateTo" />
            </div>
          </div>

          <!-- Status -->
          <div class="filter-group">
            <h3>Status</h3>
            <div class="filter-options">
              <div class="filter-option">
                <input type="checkbox" id="status-unclaimed" checked />
                <label for="status-unclaimed">Unclaimed</label>
              </div>
              <div class="filter-option">
                <input type="checkbox" id="status-claimed" />
                <label for="status-claimed">Claimed</label>
              </div>
            </div>
          </div>

          <!-- Filter Buttons -->
          <div class="filter-buttons">
            <button class="filter-btn apply-btn" id="applyFilters">
              Apply Filters
            </button>
            <button class="filter-btn reset-btn" id="resetFilters">
              Reset
            </button>
          </div>
        </aside>

        <!-- Items Grid -->
        <main class="items-container">
          <div class="items-header">
            <div class="items-count">
              Showing {{ found_items|length }} of
              {{ total_found_items }} found items
            </div>
            <div class="sort-options">
              <span>Sort by:</span>
              <select id="sortBy">
                <option value="recent">Most Recent</option>
                <option value="oldest">Oldest First</option>
                <option value="location">Location</option>
                <option value="category">Category</option>
              </select>
            </div>
          </div>

          <div class="items-grid" id="foundItemsGrid">
            {% for item in found_items %}
            <div class="item-card">
              <div class="item-image">
                {% if item.image %}
                <img src="{{ item.image.url }}" alt="{{ item.title }}" />
                {% else %}
                <img
                  src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=300&fit=crop"
                  alt="{{ item.title }}"
                />
                {% endif %}
                <span class="item-status {{ item.status }}"
                  >{{ item.get_status_display }}</span
                >
              </div>
              <div class="item-content">
                <div class="item-category">
                  <i class="fas fa-tag"></i>
                  {% if item.category %}{{ item.category.name }}{% else
                  %}General{% endif %}
                </div>
                <h3>{{ item.title }}</h3>
                <p class="item-description">
                  {{ item.description|truncatechars:150 }}
                </p>
                <div class="item-meta">
                  <div class="meta-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>{{ item.location }}</span>
                  </div>
                  <div class="meta-item">
                    <i class="fas fa-clock"></i>
                    <span>{{ item.date_found|date:"j M Y" }}</span>
                  </div>
                </div>
                <button class="btn btn-primary" onclick="window.location.href='{% url 'found_detail' item.pk %}'">Claim This Item</button>
              </div>
            </div>
            {% empty %}
            <p>No found items listed.</p>
            {% endfor %}
          </div>

          <!-- Pagination -->
          <div class="pagination">
            <button class="page-btn active">1</button>
            <button class="page-btn">2</button>
            <button class="page-btn">3</button>
            <button class="page-btn">4</button>
            <button class="page-btn">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </main>
      </div>

      <!-- Report Section -->
      <section class="report-section">
        <h2 class="report-title">Found Something That Isn't Yours?</h2>
        <p class="report-text">
          If you've found an item that doesn't belong to you, you can report it
          here. Your report could help reunite someone with their lost
          belongings. Remember to provide as much detail as possible.
        </p>
        <a href="{% url 'report_found' %}" class="cta-button">
          Report a Found Item
        </a>
      </section>
    </div>

    

    <!-- Footer -->
    {% include 'includes/footer.html' %}

    
  </body>
</html>
